---
title: Chapter 5.4 索引的总结

categories:
- MySQL 性能调优

date: 2020-04-28 00:00:53
---
## 索引的优点

## 索引的缺点

## 索引性能对比
#### 案例 1
在通常情况下，有索引的情况下查询比较快，插入比较慢，所以在大批量的数据导入操作中应该首先删除索引，待数据导入完成后再建立索引。

|表名|表属性|当前数据量|插入（秒）|查询（秒）|删除（秒）|
| :-- | :-- | :-- |
|test1|有索引|50W|0.15|1.67|
|test2|无索引|50W|0.00|2.53|
|test1|有索引|100W|||
|test2|无索引|100W|||
|test1|有索引|200W|||
|test2|无索引|200W|||

#### 案例 2
|操作|无索引|单个索引|多个索引|
| :-- | :-- | :-- | :-- |
|插入 3000 记录|
|插入 19000 记录|

[](https://www.cnblogs.com/ssslinppp/p/8423472.html)

#### 案例 3
[](https://blog.csdn.net/lenux2017/article/details/80086265)

对 200000 条数据的查询结果对比。

|表属性|插入（秒）|查询（秒）|删除（秒）|
| :-- |
|无索引||0.15|
|有索引||0.09|


## 什么时候使用索引

## 什么时候不使用索引
尽管创建索引的目的是提升数据库的性能，但是还是有一些情况应当避免使用索引。下面几条指导原则给出了何时应当重新考虑是否使用索引：

- 小的数据表不应当使用索引

- 需要频繁进行大批量的更新或者插入操作的表

- 如果列中包含大数或者 NULL 值，不宜创建索引

- 频繁操作的列不宜创建索引

## 索引设计原则
1. 对查询频率较高，且数据量较大的表建立索引
1. 索引字段的选择，最佳候选列应当从where子句的条件中提取。
1. 使用唯一索引，区分度越高，索引效率越高
1. 索引不是越多越好，维护索引的代价也大
1. 使用短索引，索引创建后也是使用磁盘来存储的，因此提升索引访问的I/O效率很重要
1. 利用最左前缀，N个列组合而成的组合索引，那么相当于创建了N个索引。