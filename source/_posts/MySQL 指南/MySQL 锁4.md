---
title: abc

categories:
- MySQL 指南

date: 2020-04-28 00:00:91
---
## 最全 MySQL 面试 60 题和答案
#### MySQL 中有哪几种锁？
MySQL 的锁大致分为 3 种：表锁、页锁、行锁。

他们的区别如下

|锁名称|锁定粒度|开销|并发量|冲突概率|支持引擎|
| :-- |
|表锁|整张表|小|低|大|MyISAM、InnoDB|
|页锁|邻的一组记录|中|中|中|BDB|
|行锁|指定的记录|大|高|小|InnoDB|

#### MySQL 中有哪些不同的表格（存储引擎）？
数据库存储引擎是数据库底层软件组件，数据库管理系统使用数据引擎进行创建、查询、更新和删除数据操作。不同的存储引擎提供不同的存储机制、索引技巧、锁定水平等功能，使用不同的存储引擎还可以获得特定的功能。

引擎区别：

|存储引擎|说明|ACID兼容|锁支持|存储结构|隔离级别|性能|适用场景|
| :-- |
|MyISAM|常用引擎|不支持|表锁|`.frm` `.MYI` `.MYD`||高||
|InnoDB|默认引擎|支持|表锁 行锁|`.frm` `.ibd`|支持事务的四种隔离级别|慢||



|MEMORY|存储到内存中|极快的插入、查询速度||不支持||临时表，存放查询的中间结果|
|Archive||||||存储归档数据，如记录日志信息|

性能对比：
（待补充）

#### 简述在 MySQL 数据库中 MyISAM 和 InnoDB 的区别
同上

#### MySQL 中 InnoDB 支持的四种事务隔离级别名称，以及逐级之间的区别？

|隔离界别|描述|脏读|不可重复读|幻读|
| :-- |
|Read uncommited|读未提交|不可避免|不可避免|不可避免|
|Read committed|读已提交|可避免|不可避免|不可避免|
|Repeatable read|可重复读|可避免|可避免|不可避免|
|Serializable|串行化|可避免|可避免|可避免|

#### CHAR 和 VARCHAR 的区别？

#### 主键和候选键有什么区别？
1. 超键：在关系中能唯一标识元组的属性集，里面可能包含很多能唯一标识元组的属性
    {学号}{学号，姓名}{学号，性别}{性别，年龄}。。。
1. 候选键：不含有多余属性的超键，即它里面的属性一旦去掉任何一个，它就不是超键
    任何的候选键都可以作为主键，这取决于用户的选择
1. 主键：用户选作元组标识的一个候选键
    学号、或者Id（如果没有的话）

|学号|姓名|性别|年龄|系别|专业|
| :- |
|20020612李辉|男|20|计算机|软件开发|
|20060613|张明|男|18|计算机|软件开发|
|20060614|王小玉|女|19|物理|力学|
|20060615|李淑华|女|17|生物|动物学|
|20060616|赵静|男|21|化学|食品化学|
|20060617|赵静|女|20|生物|植物学|

#### myisamchk 是用来做什么的？

#### MyISAM Static 和 MyISAM Dynamic 有什么区别？

#### 如果一个表有一列定义为TIMESTAMP，将发生什么？
对于TIMESTAMP，它把客户端插入的时间从当前时区转化为UTC（世界标准时间）进行存储。查询时，将其又转化为客户端当前时区进行返回。

而对于DATETIME，不做任何改变，基本上是原样输入和输出。

两者所能存储的时间范围不一样

timestamp所能存储的时间范围为：'1970-01-01 00:00:01.000000' 到 '2038-01-19 03:14:07.999999'。

datetime所能存储的时间范围为：'1000-01-01 00:00:00.000000' 到 '9999-12-31 23:59:59.999999'。

看起来是不是有点奇怪，我并没有对hiredate字段进行插入操作，它的值自动修改为当前值，而且在创建表的时候，我也并没有定义“show create table test\G”结果中显示的“ DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP”。

其实，这个特性是自动初始化和自动更新（Automatic Initialization and Updating）。

自动初始化指的是如果对该字段（譬如上例中的hiredate字段）没有显性赋值，则自动设置为当前系统时间。

自动更新指的是如果修改了其它字段，则该字段的值将自动更新为当前系统时间。

#### 列设置为 AUTO INCREMENT 时，如果在表中达到最大值，会发生什么情况？
它会停止递增，任何进一步的插入都将产生错误，因为密钥已被使用。（没法复现，不知多少才是最大值）

#### 怎样才能找出最后一次插入时分配了哪个自动增量？
`LAST_INSERT_ID` 函数将返回由 `AUTO_INCREMENT` 分配的最后一个值，并且不需要指定表名称。

```sql
-- 插入数据，没有指定Id
INSERT INTO user(id, name) VALUES(NULL, 'zhangsan');

-- 查询指定的新增的Id（当前客户端的）
select LAST_INSERT_ID();
-- 10
```

#### 你怎么看到为表格定义的所有索引？
使用 `SHOW INDEX` 命令可以查看此表所定义的索引。

```sql
SHOW INDEX FROM table_name;
```

#### like 声明中的 ％ 和 _ 是什么意思？
1. `%` 表示任意 0 个或多个字符。可匹配任意类型和长度的字符，有些情况下若是中文，请使用两个百分号表示。
1. `_` 表示任意单个字符。匹配单个任意字符，它常用来限制表达式的字符长度语句。
1. `\` 表示转义字符。
1. `[]` ?? 表示括号内所列字符中的一个（类似正则表达式）。指定一个字符、字符串或范围，要求所匹配对象为它们中的任一个。
1. `[^]` ?? 表示不在括号所列之内的单个字符。其取值和 [] 相同，但它要求所匹配对象为指定字符以外的任一个字符。

示例：
1. `%a` 以 a 结尾的数据
1. `a%` 以 a 开头的数据
1. `%a%` 含有 a 的数据
1. `%a\_`  以 a_ 结尾的数据
1. `_a` 两位且结尾字母是 a 的
1. `a_` 两位且开头字母是 a 的
1. `_a_` 三位且中间字母是 a 的

#### 如何在 Unix 和 MySQL 时间戳之间进行转换？
1. Unix 时间精确到秒，从协调世界时 1970 年 1 月 1 日 0 时 0 分 0 秒起至现在的总秒数。
1. MySQL `FROM_UNIXTIME` 函数将 Unix 时间戳转为 MySQL 日期。
1. MySQL `UNIX_TIMESTAMP` 函数将 MySQL 日期转换为 Unix 时间戳。

```sql
-- 获取 MySQL 当前时间
SELECT NOW();
-- 2020-06-02 17:11:09

-- 获取 Unix 时间戳
SELECT UNIX_TIMESTAMP();
-- 1591089100

-- Unix 时间戳转换成为 MySQL 时间
SELECT FROM_UNIXTIME(1156219870);
-- 2006-08-22 12:11:10

-- MySQL 日期转换成为 Unix 时间戳
SELECT UNIX_TIMESTAMP(NOW());
-- 1591089100
```

#### 列对比运算符是什么？
比较运算符可以判断表中的哪些记录是符合条件的。比较结果为真，则返回 1，为假则返回 0，比较结果不确定则返回 NULL。

在 `SELECT` 语句的列比较中使用 `=`，`<>`，`<`，`<=`，`>`，`>=`，`<<`，`>>`，`<=>`，`AND`，`IS NULL`, `IS NOT NULL`, `OR` 或 `LIKE `运算符。

#### BLOB 和 TEXT 有什么区别？
1. BLOB 是一个二进制对象，可以容纳可变数量的数据。TEXT 是一个不区分大小写的 BLOB。
1. BLOB 和 TEXT 类型之间的唯一区别在于对 BLOB 值进行排序和比较时区分大小写，对 TEXT 值不区分大小写。

#### mysql_fetch_array 和 mysql_fetch_object 的区别是什么？
PHP 不记。

1. mysql_fetch_array – 将结果行作为关联数组或来自数据库的常规数组返回。
1. mysql_fetch_object – 从数据库返回结果行作为对象。

#### MyISAM 表格将在哪里存储，并且还提供其存储格式？
在没有指定的情况下，MySQL 数据存储在 `./data` 目录下。

每个 MyISAM 表格以三种格式存储在磁盘上：
1. `.frm` 文件存储表定义
1. `.MYD` 文件存储表数据
1. `.MYI` 文件存储表索引

#### MySQL 如何优化 DISTINCT？
`DISTINCT` 在所有列上转换为 `GROUP BY`，并与 `ORDER BY` 子句结合使用。

```sql
SELECT DISTINCT t1.a FROM t1, t2 WHERE t1.a = t2.a;
```

#### 如何显示前 50 行？
```sql
SELECT * FROM table_name LIMIT 0, 50;
```

#### 可以使用多少列创建索引？
任何标准表最多可以创建 16 个索引列。

#### NOW() 和 CURRENT_DATE() 有什么区别？
1. `NOW()` 命令用于显示当前年份，月份，日期，小时，分钟和秒。
1. `CURRENT_DATE()` 仅显示当前年份，月份和日期。

#### 什么是非标准字符串类型？
1. TINYTEXT
1. TEXT
1. MEDIUMTEXT
1. LONGTEXT

#### 什么是通用 SQL 函数？

#### MySQL 支持事务吗？
1. MySQL 默认的 InnoDB 存储引擎是支持事务的，其它存储引擎不支持
1. 缺省模式下，MySQL 是 autocommit 模式的，所有的数据库更新操作都会即时提交。
1. 可以设置 `SET AUTOCOMMIT = 0` 关闭 autocommit 模式，在这种情况下，你必须使用 COMMIT 来提交你的更改，或者用 ROLLBACK 来回滚你的更改。

#### MySQL 里记录货币用什么字段类型好
NUMERIC 和 DECIMAL 类型被 MySQL 实现为同样的类型，这在 SQL92 标准允许。他们被用于保存值，该值的准确精度是极其重要的值，例如与金钱有关的数据。当声明一个类是这些类型之一时，精度和规模的能被(并且通常是)指定。

例如：
```sql
salary DECIMAL(9,2)
```

在这个例子中，9 代表将被用于存储值的总的小数位数，而 2 代表将被用于存储小数点后的位数。

因此，在这种情况下，能被存储在salary列中的值的范围是从 -9999999.99 到 9999999.99。

#### MySQL 有关权限的表都有哪几个？
MySQL 服务器通过权限表来控制用户对数据库的访问，权限表存放在 MySQL 数据库里，由 mysql_install_db 脚本初始化。这些权限表分别 user，db，table_priv，columns_priv 和 host。

#### 列的字符串类型可以是什么？

字符串类型是：
1. SET
1. ENUM
1. CHAR
1. VARCHAR
1. BLOB
1. TEXT

???

#### MySQL 数据库作发布系统的存储，一天五万条以上的增量，预计运维三年,怎么优化？
1. 选择合适的表字段数据类型和存储引擎，适当的添加索引。
1. MySQL 库主从读写分离。
1. 找规律分表，减少单表中的数据量提高查询速度。
1. 添加缓存机制，比如 memcached，apc 等。
1. 不经常改动的页面，生成静态页面。
1. 书写高效率的SQL。比如 SELECT * FROM TABEL 改为 SELECT field_1, field_2, field_3 FROM TABLE.

???

#### 锁的优化策略
1. 读写分离
2. 分段加锁
3. 减少锁持有的时间
4. 多个线程尽量以相同的顺序去获取资源

不能将锁的粒度过于细化，不然可能会出现线程的加锁和释放次数过多，反而效率不如一次加一把大锁。

#### 索引的底层实现原理和优化
B+ 树，经过优化的 B 树

主要是在所有的叶子结点中增加了指向下一个叶子节点的指针，因此InnoDB建议为大部分表使用默认自增的主键作为主索引。

#### 什么情况下设置了索引但无法使用
1. 以“%”开头的LIKE语句，模糊匹配
2. OR语句前后没有同时使用索引
3. 数据类型出现隐式转化（如varchar不加单引号的话可能会自动转换为int型）

#### 实践中如何优化MySQL
最好是按照以下顺序优化：
1. SQL语句及索引的优化
2. 数据库表结构的优化
3. 系统配置的优化
4. 硬件的优化

#### 优化数据库的方法
选取最适用的字段属性，尽可能减少定义字段宽度，尽量把字段设置NOTNULL，例如’省份’、’性别’最好适用ENUM
 使用连接(JOIN)来代替子查询
 适用联合(UNION)来代替手动创建的临时表
 事务处理
 锁定表、优化事务处理
 适用外键，优化锁定表
 建立索引
 优化查询语句

#### 简单描述mysql中，索引，主键，唯一索引，联合索引的区别，对数据库的性能有什么影响（从读写两方面）
索引是一种特殊的文件(InnoDB数据表上的索引是表空间的一个组成部分)，它们包含着对数据表里所有记录的引用指针。

普通索引(由关键字KEY或INDEX定义的索引)的唯一任务是加快对数据的访问速度。

普通索引允许被索引的数据列包含重复的值。如果能确定某个数据列将只包含彼此各不相同的值，在为这个数据列创建索引的时候就应该用关键字UNIQUE把它定义为一个唯一索引。也就是说，唯一索引可以保证数据记录的唯一性。

主键，是一种特殊的唯一索引，在一张表中只能定义一个主键索引，主键用于唯一标识一条记录，使用关键字 PRIMARY KEY 来创建。

索引可以覆盖多个数据列，如像INDEX(columnA, columnB)索引，这就是联合索引。

索引可以极大的提高数据的查询速度，但是会降低插入、删除、更新表的速度，因为在执行这些写操作时，还要操作索引文件。

#### 数据库中的事务是什么?
事务（transaction）是作为一个单元的一组有序的数据库操作。如果组中的所有操作都成功，则认为事务成功，即使只有一个操作失败，事务也不成功。如果所有操作完成，事务则提交，其修改将作用于所有其他数据库进程。如果一个操作失败，则事务将回滚，该事务所有操作的影响都将取消。

事务特性：

（1）原子性：即不可分割性，事务要么全部被执行，要么就全部不被执行。

（2）一致性或可串性。事务的执行使得数据库从一种正确状态转换成另一种正确状态

（3）隔离性。在事务正确提交之前，不允许把该事务对数据的任何改变提供给任何其他事务，

（4） 持久性。事务正确提交后，其结果将永久保存在数据库中，即使在事务提交后有了其他故障，事务的处理结果也会得到保存。

或者这样理解：

事务就是被绑定在一起作为一个逻辑工作单元的SQL语句分组，如果任何一个语句操作失败那么整个操作就被失败，以后操作就会回滚到操作前状态，或者是上有个节点。为了确保要么执行，要么不执行，就可以使用事务。要将有组语句作为事务考虑，就需要通过ACID测试，即原子性，一致性，隔离性和持久性。

#### SQL注入漏洞产生的原因？如何防止？
SQL注入产生的原因：程序开发过程中不注意规范书写sql语句和对特殊字符进行过滤，导致客户端可以通过全局变量POST和GET提交一些sql语句正常执行。

防止SQL注入的方式：
开启配置文件中的magic_quotes_gpc 和 magic_quotes_runtime设置

执行sql语句时使用addslashes进行sql语句转换

Sql语句书写尽量不要省略双引号和单引号。

过滤掉sql语句中的一些关键词：update、insert、delete、select、 * 。

提高数据库表和字段的命名技巧，对一些重要的字段根据程序的特点命名，取不易被猜到的。

#### 为表中得字段选择合适得数据类型
字段类型优先级: 整形>date,time>enum,char>varchar>blob,text

优先考虑数字类型，其次是日期或者二进制类型，最后是字符串类型，同级别得数据类型，应该优先选择占用空间小的数据类型

#### 存储时期
Datatime:以 YYYY-MM-DD HH:MM:SS 格式存储时期时间，精确到秒，占用8个字节得存储空间，datatime类型与时区无关
Timestamp:以时间戳格式存储，占用4个字节，范围小1970-1-1到2038-1-19，显示依赖于所指定得时区，默认在第一个列行的数据修改时可以自动得修改timestamp列得值
Date:（生日）占用得字节数比使用字符串.datatime.int储存要少，使用date只需要3个字节，存储日期月份，还可以利用日期时间函数进行日期间得计算
Time: 存储时间部分得数据
注意: 不要使用字符串类型来存储日期时间数据（通常比字符串占用得储存空间小，在进行查找过滤可以利用日期得函数）
使用int存储日期时间不如使用timestamp类型

#### 索引的目的是什么？
快速访问数据表中的特定信息，提高检索速度
创建唯一性索引，保证数据库表中每一行数据的唯一性。
加速表和表之间的连接

使用分组和排序子句进行数据检索时，可以显著减少查询中分组和排序的时间

#### 索引对数据库系统的负面影响是什么？
创建索引和维护索引需要耗费时间，这个时间随着数据量的增加而增加；索引需要占用物理空间，不光是表需要占用数据空间，每个索引也需要占用物理空间；当对表进行增、删、改、的时候索引也要动态维护，这样就降低了数据的维护速度。

#### 为数据表建立索引的原则有哪些？
在最频繁使用的、用以缩小查询范围的字段上建立索引。

在频繁使用的、需要排序的字段上建立索引

#### 什么情况下不宜建立索引？
对于查询中很少涉及的列或者重复值比较多的列，不宜建立索引。

对于一些特殊的数据类型，不宜建立索引，比如文本字段（text）等

#### 解释 MySQL 外连接、内连接与自连接的区别
先说什么是交叉连接: 交叉连接又叫笛卡尔积，它是指不使用任何条件，直接将一个表的所有记录和另一个表中的所有记录一一匹配。

内连接 则是只有条件的交叉连接，根据某个条件筛选出符合条件的记录，不符合条件的记录不会出现在结果集中，即内连接只连接匹配的行。

外连接 其结果集中不仅包含符合连接条件的行，而且还会包括左表、右表或两个表中的所有数据行，这三种情况依次称之为左外连接，右外连接，和全外连接。

左外连接，也称左连接，左表为主表，左表中的所有记录都会出现在结果集中，对于那些在右表中并没有匹配的记录，仍然要显示，右边对应的那些字段值以NULL来填充。右外连接，也称右连接，右表为主表，右表中的所有记录都会出现在结果集中。左连接和右连接可以互换，MySQL目前还不支持全外连接。

#### MySQL 中的事务回滚机制概述
事务是用户定义的一个数据库操作序列，这些操作要么全做要么全不做，是一个不可分割的工作单位，事务回滚是指将该事务已经完成的对数据库的更新操作撤销。

要同时修改数据库中两个不同表时，如果它们不是一个事务的话，当第一个表修改完，可能第二个表修改过程中出现了异常而没能修改，此时就只有第二个表依旧是未修改之前的状态，而第一个表已经被修改完毕。而当你把它们设定为一个事务的时候，当第一个表修改完，第二表修改出现异常而没能修改，第一个表和第二个表都要回到未修改的状态，这就是所谓的事务回滚

#### SQL语言包括哪几部分？每部分都有哪些操作关键字？
SQL语言包括数据定义(DDL)、数据操纵(DML),数据控制(DCL)和数据查询（DQL）四个部分。

数据定义：Create Table,Alter Table,Drop Table, Create/Drop Index等

数据操纵：Select ,insert, update, delete,

数据控制：grant,revoke

数据查询：select

#### 完整性约束包括哪些？
数据完整性(Data Integrity)是指数据的精确(Accuracy)和可靠性(Reliability)。

分为以下四类：

1) 实体完整性：规定表的每一行在表中是惟一的实体。

2) 域完整性：是指表中的列必须满足某种特定的数据类型约束，其中约束又包括取值范围、精度等规定。

3) 参照完整性：是指两个表的主关键字和外关键字的数据应一致，保证了表之间的数据的一致性，防止了数据丢失或无意义的数据在数据库中扩散。

4) 用户定义的完整性：不同的关系数据库系统根据其应用环境的不同，往往还需要一些特殊的约束条件。用户定义的完整性即是针对某个特定关系数据库的约束条件，它反映某一具体应用必须满足的语义要求。

与表有关的约束：包括列约束(NOT NULL（非空约束）)和表约束(PRIMARY KEY、foreign key、check、UNIQUE) 。

#### 什么是锁？
数据库是一个多用户使用的共享资源。当多个用户并发地存取数据时，在数据库中就会产生多个事务同时存取同一数据的情况。若对并发操作不加控制就可能会读取和存储不正确的数据，破坏数据库的一致性。

加锁是实现数据库并发控制的一个非常重要的技术。当事务在对某个数据对象进行操作前，先向系统发出请求，对其加锁。加锁后事务就对该数据对象有了一定的控制，在该事务释放锁之前，其他的事务不能对此数据对象进行更新操作。

基本锁类型：锁包括行级锁和表级锁

#### 什么叫视图？游标是什么？
视图是一种虚拟的表，具有和物理表相同的功能。可以对视图进行增，改，查，操作，视图通常是有一个表或者多个表的行或列的子集。对视图的修改不影响基本表。它使得我们获取数据更容易，相比多表查询。

游标：是对查询出来的结果集作为一个单元来有效的处理。游标可以定在该单元中的特定行，从结果集的当前行检索一行或多行。可以对结果集当前行做修改。一般不使用游标，但是需要逐条处理数据的时候，游标显得十分重要。

#### 什么是存储过程？用什么来调用？
存储过程是一个预编译的SQL语句，优点是允许模块化的设计，就是说只需创建一次，以后在该程序中就可以调用多次。如果某次操作需要执行多次SQL，使用存储过程比单纯SQL语句执行要快。可以用一个命令对象来调用存储过程。

#### 如何通俗地理解三个范式？
答：第一范式：1NF是对属性的原子性约束，要求属性具有原子性，不可再分解；

第二范式：2NF是对记录的惟一性约束，要求记录有惟一标识，即实体的惟一性；

第三范式：3NF是对字段冗余性的约束，即任何字段不能由其他字段派生出来，它要求字段没有冗余。。

范式化设计优缺点:

优点:

可以尽量得减少数据冗余，使得更新快，体积小

缺点:对于查询需要多个表进行关联，减少写得效率增加读得效率，更难进行索引优化

反范式化:

优点:可以减少表得关联，可以更好得进行索引优化

缺点:数据冗余以及数据异常，数据得修改需要更多的成本

#### 什么是基本表？什么是视图？
1. 基本表是本身独立存在的表，在 SQL 中一个关系就对应一个表。
1. 视图是从一个或几个基本表导出的表。视图本身不独立存储在数据库中，是一个虚表

#### 试述视图的优点？
1. 视图能够简化用户的操作
1. 视图使用户能以多种角度看待同一数据
1. 视图为数据库提供了一定程度的逻辑独立性
1. 视图能够对机密数据提供安全保护

#### NULL 是什么意思
1. NULL 这个值表示 UNKNOWN（未知），它不表示“”（空字符串）
1. 对 NULL 这个值的任何比较都会生产一个 NULL 值。您不能把任何值与一个 NULL 值进行比较，并在逻辑上希望获得一个答案
1. 使用 IS  NULL 来进行 NULL 判断

#### 主键、外键和索引的区别？

|类型|定义|作用|个数|
| :- |
|主键|唯一标识一条记录，不能有重复的，不允许为空|用来保证数据完整性|主键只能有一个|
|外键|表的外键是另一表的主键, 外键可以有重复的, 可以是空值|用来和其他表建立联系用的|一个表可以有多个外键|
|索引|该字段没有重复值，但可以有一个空值（？）|是提高查询排序的速度|一个表可以有多个唯一索引|

#### 你可以用什么来确保表格里的字段只接受特定范围里的值?

#### 说说对SQL语句优化有哪些方法？（选择几条）
（1）Where子句中：where表之间的连接必须写在其他Where条件之前，那些可以过滤掉最大数量记录的条件必须写在Where子句的末尾.HAVING最后。

（2）用EXISTS替代IN、用NOT EXISTS替代NOT IN。

（3） 避免在索引列上使用计算

（4）避免在索引列上使用IS NULL和IS NOT NULL

（5）对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。

（6）应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描

（7）应尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描


## 108道Java面试题:工作10年，面试超过500人想进阿里总结出的!

#### 数据库三范式及判断、E-R 图

#### InnoDB 和 MyISAM 存储引擎的区别

#### 索引分类，最左前缀原则，哪些条件无法使用索引

#### B 树、B+ 树区别，索引为何使用 B+ 树

#### 聚集索引与非聚集索引（使用非聚集索引的查询过程）

#### 事务的ACID（原子性、一致性、隔离性、持久性）

#### 事务隔离级别和各自存在的问题（脏读、不可重复读、幻读）和解决方式（间隙锁及MVCC）

#### 乐观锁和悲观锁、行锁与表锁、共享锁与排他锁

#### MVCC（增加两个版本号）及delete、update、select时的具体控制

#### 死锁判定原理和具体场景

#### 查询缓慢和解决方式（explain、慢查询日志、show profile等）

#### drop、truncate、delete 区别

#### 查询语句不同元素（where、jion、limit、group by、having等等）执行先后顺序

#### mysql优化，读写分离、主从复制

#### 数据库崩溃时事务的恢复机制（REDO 日志和 UNDO 日志）

## 2019 最全支付宝高级Java现场面试37题
#### SQL优化，常用的索引？

#### 数据库性能调优如何做

#### 数据库事务属性

## 2019 最全阿里天猫Java 3面真题，含面试题答案！
无

## 2019 最新阿里中间件Java 4轮面试题！60万年薪起步~
#### 数据库索引，表锁；乐观锁；悲观锁

## 2019蚂蚁金服 Java面试题目！涵盖现场3面真题
#### 如何做的 MySQL 优化

## 阿里蚂蚁金服中间件(Java 4轮面试题含答案)：Redis缓存+线程锁+微服务等
#### MySQL 事务隔离级别以及 MVCC 机制

## 2019 阿里Java 4轮面试题，含必考题答案参考！
#### MySQL 数据库优化会涉及到哪些？

#### MySQL 的事务隔离级别，分别解决什么问题？

#### 从SQL、JVM、架构、数据库四个方面讲讲优化思路，以及如何优先排序？

## 最新2019 蚂蚁金服4面(Java)面试题
#### MySQL的主从复制怎么做的，具体原理是什么，有什么优缺点。

## 2018阿里集团中间件Java面试题(4面)

## 蚂蚁金服4轮面经(Java研发）:G1收集器+连接池+分布式架构
#### MySql 默认存储引擎？MyISAM、InnoDB、MEMORY的区别

#### 什么是幻读，如何解决

#### 事务隔离级别有什么？通过什么来实现的？分别解决了什么问题？

#### 乐观锁与悲观锁的使用场景

#### 数据库主从同步数据一致性如何解决？技术方案的优劣势比较？

## 天猫研发Java团队(4面全题目）：并发压测+Mina+事务+集群+秒杀架构
#### MySQL 数据库默认存储引擎，有什么优点

#### MySQL 的事务隔离级别，分别解决什么问题。

#### 四个表 记录成绩，每个大约十万条记录，如何找到成绩最好的同学
```sql
select table_1
union
select table_2
```

#### 数据库分库分表一般数据量多大才需要？

####  MySQL的慢 SQL 优化一般如何来做？除此外还有什么方法优化？

## 2019 最新蚂蚁花呗Java三面题目：红黑树+并发容器+CAS+Solr+分布式等
#### 查询中哪些情况不会使用索引？

#### 数据库索引，底层是怎样实现的，为什么要用B树索引？

#### MySql 主从同步的实现原理？

#### MySQL 是怎么用B+树？

#### 谈谈数据库乐观锁与悲观锁?

## 牛逼！支付宝高级Java三面题目：线程锁+事务+雪崩+Docker等
#### MySql 如何在RR隔离级别下避免幻读问题

#### MySql范式和反范式的区别以及彼此的优缺点

#### MySql 索引类别有哪些，什么是覆盖索引

#### mysql如何获取慢SQL，以及慢查询的解决方式

#### MySql 主从同步如何配置，工作原理

#### 乐观锁和悲观锁、行锁与表锁、共享锁与排他锁（inndob如何手动加共享锁与排他锁）

#### 死锁判定原理和具体场景

#### 谈谈事务的ACID

#### 数据库崩溃时事务的恢复机制

## 蚂蚁花呗团队面试题：LinkedHashMap+SpringCloud+线程锁+分布式
#### 数据库索引有哪些？底层怎么实现的？数据库怎么优化？

#### 数据库的事务，四个性质说一下，分别有什么用，怎么实现的？

#### MySql存储引擎

#### 事务隔离级别

#### 不可重复度和幻读，怎么避免，底层怎么实现（行锁表锁）

#### MySQL 有哪几种 join 方式，底层原理是什么

#### MySQL数据库怎么实现分库分表，以及数据同步？

## 最全蚂蚁金服高级Java面试题目(3面)
#### 在工作中，SQL语句的优化和注意的事项

#### MySql同步机制原理，有哪几种同步方法

#### 数据库主从同步如何实现，事务如何实现

## 2018 支付宝Java开发四面:Ngnix+MQ队列+集群+并发抢购
#### MySql limit 分页如何保证可靠性

#### MySQL引擎及区别，项目用的哪个，为什么

#### mycat 分库分表、读写分离的实现

## 蚂蚁三面题目(java开发岗）:Java锁机制+JVM+线程池+事务+中间件
#### MySQL的表锁&行锁&乐观锁&悲观锁,各自的使用场景

#### 事务四大特性

#### 事务的二段提交机制？

#### 聚簇索引&非聚簇索引

#### ACID CAP BASE理论，以及RPC过程。

## 蚂蚁中间件团队Java面试题：Netty+Redis+Kafka+MongoDB+分布式
#### 索引什么时候会失效变成全表扫描

#### 数据库万级变成亿级，你如何来解决。

## 最新阿里聚划算Java 5轮面试题,涵盖GC收集器、多线程锁等
#### MySQL采用了什么存储引擎，为什么？

#### 索引的类型，索引的底层实现原理

#### MySQL数据库对应的行锁、表锁、悲观锁、乐观锁的区别

#### MySQL数据库引擎？应用场景？查询优化？NoSQL有用或了解吗？

#### MySql事务讲一下，事务定义，四个性质，事务并发引起的问题，事务的四个隔离级别

#### Redis 和数据库如何保证数据一致性

#### 谈谈MySQL的查询优化方法，重点谈谈优化步骤。

## 最新天猫Java3轮面试题目：虚拟机+并发锁+Sql防注入+Zookeeper
#### 如何防止sql注入，了解哪些加密算法，rsa过程说下

#### MySql索引设计，联合索引，SQL 语句优化，abc 索引，搜索b，会使用索引吗（走索引要回表）

## 非常全面的阿里的Java面试题目,涵盖Java基础+高级+架构
#### 数据库隔离级别 脏读 幻读 ACID mysql的隔离级别

#### mysql索引实现，如何解决慢查询

#### 数据库锁是怎么实现的

#### 用过mysql吗？为啥加索引会变快？聚簇型索引和非聚簇型索引的区别？

## 淘宝网Java五面：现场面试49题含答案！
#### 讲一下数据库的隔离等级

#### 说一聚簇索引和非聚簇索引的有什么不同

#### mysql用的什么存储引擎，这个存储引擎用的什么数据结构 ，有哪些优缺点，怎么使用

## 史上最全阿里Java面试题目大汇总！强烈建议收藏~
#### MySQL的常见优化方式、定为慢查询

#### 数据库（最多的还是mysql，Nosql有redis）索引（包括分类及优化方式，失效条件，底层结构）

#### sql语法（join，union，子查询，having，group by）

#### 引擎对比（InnoDB，MyISAM）

#### 数据库的锁（行锁，表锁，页级锁，意向锁，读锁，写锁，悲观锁，乐观锁，以及加锁的select sql方式）

#### 隔离级别，依次解决的问题（脏读、不可重复读、幻读）

#### 事务的ACID

#### 优化（explain，慢查询，show profile）

#### 数据库的范式

#### 分库分表，主从复制，读写分离。

## 最全Java面试180题：阿里11面试+网易+百度+美团！含答案大赠送！
[最全Java面试180题](https://youzhixueyuan.com/most-of-ali-baidu-netease-interview-180-questions.html)