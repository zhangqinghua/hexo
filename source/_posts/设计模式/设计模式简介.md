---
title: 设计模式简介

categories:
- 设计模式

date: 2020-08-18 00:00:25
---
设计模式是经过高度抽象化的在编程中可以被反复使用的代码设计经验。正确的使用设计模式能有效提高代码的可读性、可靠性和可重用性。

## 设计原则
设计模式有 7 个原则：单一职责原则、开闭原则、里氏替换原则、依赖倒转原则、接口隔离原则、合成/聚合复用原则、迪米特法则。接下来对这些原则一一进行讲解。

1. 单一职责原则
  单一职责原则又称为单一功能原则，它规定一个类只有一个职责。如果又多个职责（功能）被设计在一个类中，这个类就违反了单一职责原则。

1. 开闭原则
  开闭原则规定软件中的对象（类、模块、函数等）对扩展开放，对修改关闭。这意味着一个实体允许在不改变其源代码的前提下改动其行为。该特性在产品化的环境下是特别有价值的，在这种环境下，改变源代码需要经过代码审核、单元测试等过程，以确保产品的使用价值。遵循这个原则的代码在扩展时并不发生改变，因此不需要经历上述过程。

1. 里氏代换原则
  里氏代换原则是对开闭原则的补充，规定了在任意父类可以出现的地方，子类都一定可以出现。实现开闭原则的关键就是抽象化，父类和子类的继承关系就是抽象化的具体表现，所以里氏代换原则是对实现抽象化的具体步骤的规范。

1. 依赖倒转原则
  依赖倒转原则指程序要依赖于抽象（比如 Java 中的抽象类和接口），而不依赖于具体的实现（比如 Java 中的实现类）。简单地说，就是要求基于抽象进行编程，不要求对实现进行编程。这就降低了模块直接的耦合度。

1. 接口隔离原则
  接口隔离原则指通过将不同的功能定义在不同的接口中来实现接口的隔离，这样就避免了其他类在依赖该接口（接口上定义的功能）时依赖其不需要的接口，可减少接口直接依赖的冗余性和复杂性。

1. 合成/聚合复用原则
  合成/聚合复用原则指通过在一个新的对象中引入（注入）已有的对象以达到类的功能复用和扩展的目的。它的设计原则是要尽量使用合成/聚合而不要使用继承来扩展类的功能。

1. 迪米特法则
  迪米特法则指一个对象尽可能少地与其他对象发生相互作用，即一个对象对其他对象应该有尽可能少的了解或依赖。其核心思想在于降低模块之间的耦合度，提高模块的内聚性。迪米特法则规定每个模块对其他模块都要有尽可能少的了解和依赖，因此很容易使系统模块直接功能独立，这使得各个模块的独立运行变得更简单，同时使得各个模块之间的组合变得更容易。

## 模式分类
设计模式按照其功能和使用场景可以分为三大类：创建型模式、结构型模式和行为型模式。

1. 创建型模式
  提供了许多优雅创建对象的方法，包含一下设计模式：工厂模式、抽象工厂模式、单例模式、建造者模式、原型模式。

1. 结构型模式
  通过类和接口之间的继承和引用实现创建复杂结构对象的功能，包含：适配器模式、桥接模式、过滤器模式、组合模式、装饰器模式、外观模式、享元模式、代理模式。

1. 行为模式
  通过类之间不同的通信方式实现不同的行为方式，包括：责任链模式、命令模式、解析器模式、迭代器模式、中介者模式、备忘录模式、观察者模式、状态模式、策略模式、模版模式、访问者模式。

1. J2EE 模式
  这些设计模式特别关注表示层。这些模式是由 Sun Java Center 鉴定的，包括：MVC 模式、业务代表模式、组合实体模式、数据访问对象模式、前端控制器模式、过滤拦截器模式、服务定位器模式、传输对象模式。

下面用一个图片来整体描述一下设计模式之间的关系：

![](https://www.runoob.com/wp-content/uploads/2014/08/the-relationship-between-design-patterns.jpg)

  ## 面试题
  1. 什么是设计模式？你是否在你的代码里面使用过任何设计模式？
  1. 设计模式的优点
  1. 单例模式的创建方式
  1. JDK中使用了哪些设计模式？
  1. 如何编写线程安全的单例
  1. 代理模式有哪些类型？
  1. 讲一下MVC模式
  1. 拦截过滤器模式及其优点
  1. DAO设计模式
  1. Java 中什么叫单例设计模式？请用Java 写出线程安全的单例模式
  1. 在 Java 中，什么叫观察者设计模式（observer design pattern）？
  1. 使用工厂模式最主要的好处是什么？在哪里使用？
  1. 举一个用 Java 实现的装饰模式(decorator design pattern)？它是作用于对象层次还是类层次？
  1. 在 Java 中，为什么不允许从静态方法中访问非静态变量？
  1. 设计一个 ATM 机，请说出你的设计思路？
  1. 在 Java 中，什么时候用重载，什么时候用重写？
  1. 举例说明什么情况下会更倾向于使用抽象类而不是接口？
  1. 